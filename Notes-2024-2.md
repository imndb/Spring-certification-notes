 # AOP:

- SpEL expressions begin with the # symbol and are wrapped in braces: #{expression}.

Properties can be referenced in a similar fashion, starting with a $ symbol and wrapped in braces: ${property.name}.

Property placeholders cannot contain SpEL expressions, but expressions can contain property references:

#{${someProperty} + 2}

- @Before, @After, @Around, @AfterReturning, and @AfterThrowing in Spring AOP are advice.

Aspect: A modularization of a concern that cuts across multiple objects. Transaction management is a good example of a crosscutting concern in J2EE applications. In Spring AOP, aspects are implemented using regular classes (the schema-based approach) or regular classes annotated with the @Aspect annotation (@AspectJ style).

Join point: A point during the execution of a program, such as the execution of a method or the handling of an exception. In Spring AOP, a join point always represents a method execution. Join point information is available in advice bodies by declaring a parameter of type org.aspectj.lang.JoinPoint.

Advice: Action taken by an aspect at a particular join point. Different types of advice include "around," "before" and "after" advice. Many AOP frameworks, including Spring, model advice as an interceptor, maintaining a chain of interceptors "around" the join point.

Pointcut: A predicate that matches join points. Advice is associated with a pointcut expression and runs at any join point matched by the pointcut (for example, the execution of a method with a certain name). The concept of join points as matched by pointcut expressions is central to AOP: Spring uses the AspectJ pointcut language by default.

- Aop code scattering and code tangling

Aop: 𝗖𝗼𝗱𝗲 𝗧𝗮𝗻𝗴𝗹𝗶𝗻𝗴 (𝗖𝗼𝘂𝗽𝗹𝗶𝗻𝗴 𝗼𝗳 𝗖𝗼𝗻𝗰𝗲𝗿𝗻𝘀
𝗖𝗼𝗱𝗲 𝗦𝗰𝗮𝘁𝘁𝗲𝗿𝗶𝗻𝗴 (𝗙𝘂𝗻𝗰𝘁𝗶𝗼𝗻𝗮𝗹𝗶𝘁𝘆 𝗦𝗽𝗿𝗲𝗮𝗱)

- Aspect-oriented programming (AOP) is commonly used in Spring to implement security at the method level.


- Execution - matches join points for method execution.

Within - matches join points within certain types or packages.

This - matches join points where the bean reference is an instance of a given type.

Target - matches join points where the target object is an instance of a given type.

Args - matches join points where the arguments to the method being executed match a given type or expression.

Annotation - matches join points where the subject has the given annotation.

- Spring includes a basic expression compiler.


# Spring Boot:

- potential output types that can be generated by a Spring Boot build: War OR Jar.

- Spring Boot will load the schema-${platform}.sql and data-${platform}.sql files (if present), where platform is the value of spring.datasource.platform

- Spring Application Context provides services such as dependency injection.


# Actuator:

-  Custom metrics can be measured using Micrometer classes such as Counter, Gauge, Timer, DistributionSummary
- endpoints  part of the additional endpoints for web applications: heapdump, logfile.

- Web endpoints:

heapdump : Returns an hprof heap dump file.

jolokia : Exposes JMX beans over HTTP (when Jolokia is on the classpath, not available for WebFlux).

logfile : Returns the contents of the logfile (if logging.file or logging.path properties have been set). Supports the use of the HTTP Range header to retrieve part of the log file’s content.

prometheus : Exposes metrics in a format that can be scraped by a Prometheus server.

 - to enable auditing in Spring Boot Actuator: Declaring a bean of type AuditEventRepository

   

# Container:

- spring.factories auto-configures various components in a spring boot application. Conditionally loads components based on certain criteria. REgisters custom implementations of spring interfaces or annotations. 

- All Spring exceptions are unchecked exceptions


- @PreDestroy and @PostConstruct:

- Methods annotated with @PreDestroy are invoked before the destroy() method of the DisposableBean interface is called.
- Spring invokes methods annotated with @PreDestroy and @PostConstruct only once.



# Spring Data: 

- read, get, find can be used for method names. 

- JTA, JPA and Hibernate are supported by spring. 

- RowCallbackHandler`, `ResultSetExtractor`, andng Data: RowCare callback interfaces that work withultSetExtractor`in Spring Framework.
- repositoryBaseClassattribute of  EnableJpaRepositoriesconfigures the repository base class to be used to create repository proxies for this particular configuration.

- Region, Document, NodeEntity are valid annotations. Entity from JPA

# Beans:

- @Bean and @Configuration cannot be final.
- @Bean methods can be marked as static. 

- @Bean semantics semantics known from the original ''Spring JavaConfig' project require CGLIB subclassing of each such configuration class at runtime. As a consequence, @Configuration classes and their factory methods must not be marked as final or private in this mode.

- @Configuration classes must be non-final (allowing for subclasses at runtime), unless the proxyBeanMethods flag is set to false in which case no runtime-generated subclass is necessary.

- Singleton beans are instantiated eagerly by default when the spring container starts up.

- @DependsOn is a spring annotation that specifies bean dependencies, ensuring that the dependent beans are intialized first. It can be used to solve circular dependencies in Spring.

- BeanPostProcessor is an extension point in Spring that allows us to intercept baean instantiation and customize the bean's initialization process. It has two callback methods postProcessBeforeInitialization and postProcessAfterInitialization which allows us to customize the nitialization process of a bean. 

- @PostConstruct & @PreDestroy annotated methods: return void and take no parameter


# JDBC:

- The DataSource interface is implemented by a driver vendor. It is intended for use with relational databases and is not suitable for NoSQL databases.
- What method in JdbcTemplate is recommended for DDL operations? Execute
- The execute() method in JdbcTemplate is recommended for DDL (Data Definition Language) operations. This method can be used to execute any SQL statement, including DDL statements like CREATE, ALTER, and DROP.

# REST:

- HTTP methods are considered idempotent: DELETE, GET, PUT


# MVC: 


- Spring Boot uses by default Jackson for handling JSON serialization and deserialization. It provides integration with three JSON mapping libraries: Gson, Jackson,JSON-B

WebMvc:

- @WebMvcTest annotation will auto-configure:

Mock Mvc

@Controller annotated class

@ControllerAdvice annotated class

@JsonComponent annotated class

@Converter annotated class

@GenericConverter annotated class

@Filter annotated class

@WebMvcConfigurer annotated class

@HandlerMethodArgumentResolver annotated class


- autoconfiguration for @WebMvcTest:

@WebMvcTest

org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration  (check) org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration  (check)

org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration (check)

org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration org.springframework.boot.autoconfigure.web.ErrorMvcAutoConfiguration org.springframework.boot.autoconfigure.web.HttpMessageConvertersAutoConfiguration org.springframework.boot.autoconfigure.web.ServerPropertiesAutoConfiguration org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityAutoConfiguration org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration

- 

- The auto-configuration adds the following features on top of Spring’s defaults:

- Inclusion of ContentNegotiatingViewResolver and BeanNameViewResolver beans.

- Support for serving static resources, including support for WebJars (covered later in this document)).

- Automatic registration of Converter, GenericConverter, and Formatter beans.

- Support for HttpMessageConverters (covered later in this document).

- Automatic registration of MessageCodesResolver (covered later in this document).

- Static index.html support.

- Custom Favicon support (covered later in this document).

- Automatic use of a ConfigurableWebBindingInitializer bean (covered later in this document).


- Spring Boot's Spring MVC auto-configuration provides the following features:
	•	HttpMessageConverters support
	•	Content Negotiating View Resolver bean
	•	Support for serving static resources
	•	RestController testing pages
These features help developers quickly set up a Spring MVC application with sensible defaults and reduce the amount of boilerplate code needed to configure the application.


- Which of the following is NOT auto-configured when using @WebMvcTest? transaction

Jackson, template engine and caching are configured automatically

- recommended object to use in Spring tests for server-side testing: MockMvc

# Spring Boot:

- Spring Boot uses Commons Logging for all internal logging but leaves the underlying log implementation open. Default configurations are provided for Java Util Logging, Log4j2, and Logback.

- The MessageSource interface provides a way to retrieve localized messages for an application.
- From which version does Spring set up a basic value-resolver for you? 4.3

- <context-param>
		<param-name>spring.profiles.active</param-name>
		<param-value>cloud,jpa</param-value>

but <spring-profiles>element does not exist in the web.xml file.

- logging level set by default in Spring Boot: Info


# Test:

- @SpringBootTest It is meta-annotated with @ExtendWith(SpringExtension.class) and Provides the Spring Boot features over and above the regular Spring TestContext Framework.

- @Spy: It is an annotation provided by the Mockito library. It is used to create a partial mock object of a class. Unlike a mock object created using @Mock, a spy retains the original behavior of the class and only mocks the specified methods.


- @WithMockUser can be used in a Spring test to mock a user.


- @interface TestConfiguration

- @Configuration that can be used to define additional beans or customizations for a test. Unlike regular @Configuration classes the use of @TestConfiguration does not prevent auto-detection of @SpringBootConfiguration.


- @MockBean adds mock objcts to the spring application context and can be used as a class-level annotatin or on fields.

- @MockBean simplifies the creation of mock objects in tests by automatically creating and adding the mock object to the Spring context. This reduces boilerplate code and makes tests easier to read and write.

- @MockBean provides context-sensitive mocking, which means that the mock object will be created with the appropriate configuration for the current testing context. This allows for more flexible and targeted testing of specific components, without affecting the behavior of other components.


- When using the @SpringBootTest annotation with the attribute webEnvironment set to RANDOM_PORT or DEFINED_PORT, TestRestTemplate Class is created and configured accordingly.

- When using @SpringBootTest with webEnvironment=RANDOM_PORT, so we can inject the port number into a field at runtime in a Spring Boot application: Use @LocalServerPort annotation on a field in the test class or Use @Value("${local.server.port}") annotation on a field in the test class.


# Spring Data:

- PlatformTransactionManager is a Central interface in Spring's imperative transaction infrastructure to commit and rollback transactions

- In Spring Data, local transactions are bound to a single database connection, whereas global transactions can span multiple database connections or even multiple transactional resources (such as JMS or JCA resources).

- JdbcTemplate class obtain a connection from the DataSource at runtime when needed. 

- Using @Transactional would  apply  only to methods with public visibility.

- repositoryBaseClass attribute of  EnableJpaRepositories configures the repository base class to be used to create repository proxies for this particular configuration.


# Spring Security:

- an authentication mechanism:digest, form, oauth, x509, basic, oidc


- CSRF is a security vulnerability where attackers trick a user's browser into performing unwanted actions.


- UserDetails is an interface provided by Spring Security that represents a user's security-specific data. It contains methods to retrieve the user's username, password, authorities, and whether the user's account is expired, locked, or enabled. UserDetails is used as a contract for implementing user details by classes that represent user information, such as User, which is a commonly used implementation of UserDetails. The UserDetails interface is used in the authentication process by Spring Security to determine whether a user is authorized to access a particular resource.

- In Spring Security 5.8, the antMatchers, mvcMatchers, and regexMatchers methods were deprecated in favor of new requestMatchers methods.

The new requestMatchers methods were added to authorizeHttpRequests, authorizeRequests, CSRF configuration, WebSecurityCustomizer and any other places that had the specialized RequestMatcher methods. The deprecated methods are removed in Spring Security 6.

These new methods have more secure defaults since they choose the most appropriate RequestMatcher implementation for your application. In summary, the new methods choose the MvcRequestMatcher implementation if your application has Spring MVC in the classpath, falling back to the AntPathRequestMatcher implementation if Spring MVC is not present (aligning the behavior with the Kotlin equivalent methods).


- UserDetailsService: This interface is used to load user-specific data during authentication. It has a single method, loadUserByUsername(), that takes a username as an argument and returns a UserDetails object for that user.


- Authentication: This interface represents an authentication request made by a user. It contains the principal (i.e., the user being authenticated) and the credentials (e.g., password) for that user.


- PasswordEncoder: This interface is used to encode passwords for storage in a database or other data store. It has a single method, encode(), that takes a raw password as an argument and returns the encoded password. Spring provides several implementations of PasswordEncoder, including BCryptPasswordEncoder, SCryptPasswordEncoder, and MessageDigestPasswordEncoder.


- * Principal

- User, device or system that performs an action

* Authentication

- Establishing that a principal's credentials are valid

* Authorization

- Deciding if a principal is allowed to access a resource

* Authority

- Permission or credential enabling access (such as a role)

* Secured Resource

- Resource that is being secured

- DelegatingFilterProxy is a standard Servlet Filter, delegating to a Spring-managed bean that implements the Filter interface. acts as an intereptor for secured requests. 
- SecurityFilterChain is an interface that defines a filter chain which is capable of being matched agains an HttpServletRequest. In order to decide weather it applies to that request. 
- SecurityContextHolder is a class that associates a given SecurityContext with the current execution thread. This class provides a seriies of static methods that delegate to an instance of SecurityContextHolderStrategy. The purpose of the class is to provide a convenient way to specify the strategy that should be used for a given JVM. This is a JVM-wide setting, since everything in this class is static to facilate ease of use in calling code. 
- FilterChainProxy is a class thath delegates Filter requests to a list of Spring-managed filter beans. As of version 2.0, you shouldn't need to explicitly configure a FilterChainProxy  bean in your application context unless you need very fine controll over the filter chain contents. Most cases should be adequately covered by the default <security:http/> namespace configuration option. We can replace and remove filters from a filter chain. It holds a list of SecurityFilterChains, which are triggered upon request.Filterchainproxy bean is registered with the default name springSecurityFilterChain. The springSecurityFilterChain is a mandatory name and it referes to a bean with the same name in the spring boot application context. 



# REST: 

- options can be employed as arguments for a method mapped to a request in a Controller class, with Spring automatically providing instances:

ServletRequest, ServletResponse, Errors, Model.

- spring.factories file : It is used by the auto-configuration mechanism to locate auto-configuration classes.

- Field-based dependency injection violates the principle of encapsulation by directly injecting dependencies into fields, making them easily accessible and potentially bypassing encapsulation.

- PropertySourcesPlaceholderConfigurer is responsible for resolving and injecting values into beans annotated with @Value?



- pre-enabled HttpMessageConverters, The Default Message Converters:

By default, the following HttpMessageConverters instances are pre-enabled:

ByteArrayHttpMessageConverter – converts byte arrays

StringHttpMessageConverter – converts Strings

ResourceHttpMessageConverter – converts org.springframework.core.io.Resource for any type of octet-stream

SourceHttpMessageConverter – converts javax.xml.transform.Source

FormHttpMessageConverter – converts form data to/from a MultiValueMap<String, String>

Jaxb2RootElementHttpMessageConverter – converts Java objects to/from XML (added only if JAXB2 is present on the classpath)

MappingJackson2HttpMessageConverter – converts JSON (added only if Jackson 2 is present on the classpath)

MappingJacksonHttpMessageConverter – converts JSON (added only if Jackson is present on the classpath)

AtomFeedHttpMessageConverter – converts Atom feeds (added only if Rome is present on the classpath)

RssChannelHttpMessageConverter – converts RSS feeds (added only if Rome is present on the classpath)




# Container:

- @Bean and @Configuration cannot be final or private. @Bean method can be static. 

- @Configuration classes must be non-final (allowing for subclasses at runtime), unless the proxyBeanMethods flag is set to false in which case no runtime-generated subclass is necessary.

- @Bean semantics semantics known from the original ''Spring JavaConfig' project require CGLIB subclassing of each such configuration class at runtime. As a consequence, @Configuration classes and their factory methods must not be marked as final or private in this mode.



- @PostConstruct & @PreDestroy annotated methods must take no parameter and can only return void. 



- When using @SpringBootTest with webEnvironment set to RANDOM_PORT or DEFINED_PORT, a TestRestTemplate is created and configured with the appropriate port for the test environment.



Application bean scope is described as "Scopes a single bean definition to the lifecycle of a ServletContext. Only valid in the context of a web-aware Spring ApplicationContext."

- The interfaces BeanFactory and ApplicationContext represent the Spring IoC container.


- Autowired fields are injected right after the construction of a bean.

